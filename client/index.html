<!doctype html>
<html>
  <head>
    <title>Session Example</title>
    <meta charset="utf-8">
  </head>
  <body>
    <form id="login-form">
      <button type="submit" name="login" id="login">Login</button>
    </form>
    <form id="logout-form">
      <button type="submit" name="logout" id="login">Logout</button>
    </form>
    <script>
      const loginForm = document.getElementById('login-form');
      const logoutForm = document.getElementById('logout-form');

      function login(e) {
        e.preventDefault();
        fetch('/login', {
          method: 'POST',
          credentials: 'include',
          body: loginForm
        })
          .then((res) => {
            return res.json();
          })
          .then((data) => {
            console.log(data);
          });
      }

      function logout(e) {
        e.preventDefault();
        fetch('/logout', {
          method: 'POST',
          credentials: 'include',
          body: loginForm
        })
          .then((res) => {
            return res.json();
          })
          .then((data) => {
            console.log(data);
            if (data.error) {
              console.log('There was an error...');
            }
          });
      }

      loginForm.addEventListener('submit', login);
      logoutForm.addEventListener('submit', logout);
    </script>
  </body>
</html>